=============================================
Закупка и продажи в разных единицах измерения
=============================================

При закупке товара, есть вероятность того, что поставщик использует иные
единицы измерения, чем вы при продаже. Это может привести к путанице между
представителями отдела продаж и отдела закупок. Каждый раз вручную переводить
единицы измерения также отнимает много времени.
С системой **Модули** вы можете настроить продукт всего один раз и конвертация будет выполняться
автоматически.

Рассмотрим следующие примеры:

#. Вы покупаете апельсиновый сок у американского поставщика, и он используют **галлоны** в качестве единицы измерения.
   Однако ваши клиенты - европейцы используют **литры**.

#. Вы покупаете шторы у поставщика в виде **рулонов**, а своим клиентам продаете только части рулонов, используя **квадратные метры**.

Включите единицы измерения
==========================

Откройте приложение **Продажи** и перейдите в меню: :menuselection:`Настройки --> Настройки`. В разделе **Каталог товаров**,
выберите опцию *Единицы измерения*.


Укажите единицы измерения продаж и закупок
==========================================

Стандартные единицы измерения
-----------------------------

По умолчанию в вашей базе данных доступны различные единицы измерения.
Каждая из них относится к одной из шести предварительно настроенных
категорий единиц измерения: *Длина / расстояние*, *Штуки*, *Объем*, *Вес*, *Рабочее время* и *Площадь*.

.. tip::
    Вы можете создавать новые единицы измерения и категории единиц измерения (см. следующий раздел).

Чтобы настроить разные единицы измерения для продаж и закупок, откройте приложение **Закупки**
и перейдите в раздел :menuselection:`Продукты --> Продукты`.
Создайте новый продукт или выберите из уже существующих.
В форме продукта, на вкладке *Общая информация*, выберите *Единицу измерения*,
которая будет использоваться для продаж (а также в других приложениях, таких как *Склад*).
Затем выберите *Единицу измерения для покупки*, которая будет использоваться
в закупках.

Вернемся к первому примеру. Если вы покупаете апельсиновый сок у поставщика в **галлонах**,
а продаете его в **литрах**, выберите *л* (литры) в поле
*Единица измерения*, и *галлон (US)* (галлоны) в поле *Единицы измерения для покупки*.

Создание новых единиц измерения и категорий
-------------------------------------------

Вам может потребоваться создать свои собственные единицы измерения и категории,
если единицы измерения предварительно не настроены в системе, или не соотносятся друг с другом
(например, килограммы и сантиметры).

Рассмотрим второй пример, где вы покупаете шторы у продавца в виде **рулонов**, а
продаете части рулонов, используя **квадратные метры**. В таком случае вам нужно создать
новую категорию единиц измерения, чтобы связать обе единицы измерения.

Для этого перейдите в меню: :menuselection:`Закупки --> Настройки --> Категории единиц измерения`.
Нажмите на кнопку *Создать* и введите название категории в соответствующем поле.

Следующим шагом будет создание двух единиц измерения. Для этого, из приложения *Склад* или *Продажи*, перейдите в меню: :menuselection:`Настройки
--> Единицы измерения`.

Сначала создайте единицу измерения, используемую в качестве контрольной единицы для конвертации в другие
единицы измерения внутри категории, нажав на кнопку *Создать*.
Назовите единицу измерения и выберите единицы измерения категории, которую вы только что создали.
В поле *Раздел* выберите *Базовая единица измерения для этой категории*.
Введите значение в поле *Точность округления*.
Количество, вычисленное системой, всегда будет кратно этому значению.

Так как вы не можете приобрести менее 1 рулона
и не будете использовать дробные части рулона в качестве единицы измерения, вы можете ввести значение *1*.


.. note:: Если округление для единиц измерения ниже 0.01, может появиться предупреждение о том,
   что это значение выше, чем *Точность десятичной системы*, и это может привести к несоответствиям. Если вы
   хотите использовать округление ниже значения 0.01, сначала активируйте режим разработчика :ref:`developer mode
   <developer-mode>`, затем перейдите в меню: :menuselection:`Настройки --> Технические --> Структура базы данных -->
   Десятичная точность`. В столбце *Использование*, выберите строку *Единица измерения продукта` и отредактируйте значение соответствующим образом. Например,
   если вы хотите использовать округление 0,00001, установите в поле *Знаков* значение 5.

Далее, создайте вторую единицу измерения, назовите ее и выберите ту же категорию единиц измерения как
для базовой единицы. В поле *Раздел* выберите *Меньше* или *Больше, чем базовая единица измерения*,
в зависимости от ситуации.

Поскольку рулон штор равен 100 квадратным метрам, следует выбрать *Меньше*.

Затем, необходимо ввести *Коэффициент* между базовой и второй единицей измерения. Если вторая единица меньше, *коэффициент* должен быть больше значения 1. Если вторая единица больше, коэффициент
должен быть меньше значения 1.

Для вашего рулона штор коэффициент должен быть в значении 100.

Теперь вы можете настроить свой продукт так же, как и при использовании стандартных единиц измерения.
