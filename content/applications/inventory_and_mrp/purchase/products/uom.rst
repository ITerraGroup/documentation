=============================================
Закупка и продажи в разных единицах измерения
=============================================

При закупке товара, есть вероятность того, что продавец использует иные
единицы измерения, чем вы при продаже. Это может привести к путанице между
представителями отдела продаж и отдела закупок. Каждый раз вручную переводить
единицы измерения также отнимает много времени.
С Odoo вы можете настроить продукт всего один раз и конвертация будет выполняться
автоматически.

Рассмотрим следующие примеры:

#. Вы покупаете апельсиновый сок у американского поставщика, и он используют **галлоны** в качестве единицы измерения.
   Однако ваши клиенты - европейцы используют **литры**.

#. Вы покупаете шторы у поставщика в виде **рулонов**, а своим клиентам продаете только части рулонов, используя **квадратные метры**.

Включите единицы измерения
==========================

Откройте приложение *Продажи* и перейдите в меню: :menuselection:`Настройки --> Настройки`. В разделе *Каталог товаров*,
выберите опцию *Единицы измерения*.


Укажите единицы измерения продаж и закупок
==========================================

Стандартные единицы измерения
-----------------------------

По умолчанию в вашей базе данных доступны различные единицы измерения.
Каждая из них относится к одной из пяти предварительно настроенных
категорий единиц измерения: *Длина / расстояние*, *Единица*, *Объем*, *Вес* и *Рабочее время*.

.. tip::
    Вы можете создавать новые единицы измерения и категории единиц измерения (см. следующий раздел).

Чтобы настроить разные единицы измерения для продаж и закупок, откройте приложение "Закупки"
и перейдите в раздел :menuselection:`Продукты --> Продукты`.
Создайте новый продукт или выберите из уже существующих.
В форме продукта, на вкладке *Общая информация*, выберите *Единицу измерения*,
которая будет использоваться для продаж (а также в других приложениях, таких как *Склад*).
Затем выберите *Единицу измерения покупки*, которая будет использоваться
в закупках.

Вернемся к первому примеру. Если вы покупаете апельсиновый сок у поставщика в **галлонах**,
а продаете его в **литрах**, выберите *L* (литры) в поле
*Единица измерения*, и *gal (US)* (галлоны) для *Единицы измерения покупки*.

Создание новых единиц измерения и категорий
-------------------------------------------

Вам может потребоваться создать свои собственные единицы измерения и категории,
если единицы измерения предварительно не настроены в Odoo, или не соотносятся друг с другом
(например, килограммы и сантиметры).

Рассмотрим второй пример, где вы покупаете шторы у продавца в виде **рулонов**, а
продаете части рулонов, используя **квадратные метры**. В таком случае вам нужно создать
новую категорию единиц измерения, чтобы связать обе единицы измерения.

Для этого перейдите в меню: :menuselection:`Настройки --> Категории единиц измерения`.
Нажмите на кнопку *Создать* и введите название категории в соответствующем поле.

Следующим шагом будет создание двух единиц измерения. Для этого перейдите в меню: :menuselection:`Настройки
--> Единицы измерения`.

Сначала создайте единицу измерения, используемую в качестве контрольной единицы для конвертации в другие
единицы измерения внутри категории, нажав на кнопку *Создать*.
Назовите единицу измерения и выберите единицы измерения категории, которую вы только что создали.
В поле *Тип* выберите *Используемая единица измерения для этой категории*.
Введите значение в поле *Rounding Precision*.
Количество, вычисленное Odoo, всегда будет кратно этому значению.

Так как вы не можете приобрести менее 1 рулона
и не будете использовать дробные части рулона в качестве единицы измерения, вы можете ввести значение *1*.

.. image:: media/uom-new-reference-unit.png
   :align: center
   :alt: Create a new reference unit of measure in Odoo Purchase

.. note:: Если округление для единиц измерения ниже 0.01, может появиться предупреждение о том,
   что это значение выше, чем *Точность десятичной системы*, и это может привести к несоответствиям. Если вы
   хотите использовать округление ниже значения 0.01, сначала активируйте режим разработчика :ref:`developer mode
   <developer-mode>`, затем перейдите в меню: :menuselection:`Настройки --> Technical --> Database Structure -->
   Decimal Accuracy`, выберите *Единица измерения продукта` и отредактируйте *Цифры` соответствующим образом. Например,
   если вы хотите использовать округление 0,00001, установите в поле *Цифры* значение 5.

Далее, создайте вторую единицу измерения, назовите ее и выберите ту же категорию единиц измерения как
для контрольной единицы. В поле *Тип* выберите *Меньше* или *Больше, чем контрольная единица измерения*,
в зависимости от ситуации.

Поскольку рулон штор равен 100 квадратным метрам, следует выбрать *Меньше*.

Затем, необходимо ввести *Соотношение* между контрольной и второй единицей измерения. Если вторая единица
единица меньше, *соотношение* должно быть больше значения 1. Если вторая единица больше, соотношение
должно быть меньше значения 1.

Для вашего рулона штор соотношение должно быть в значении 100.

.. image:: media/uom-second-unit.png
   :align: center
   :alt: Create a second unit of measure in Odoo Purchase

Теперь вы можете настроить свой продукт так же, как и при использовании стандартных единиц измерения Odoo.

.. image:: media/uom-product-configuration-new-units.png
   :align: center
   :alt: Set a product's units of measure using your own units in Odoo Purchase